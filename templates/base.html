<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic SEO -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{% block title %}Free Image Tools - Compress, Resize & Optimize Photos{% endblock %}</title>
  <meta name="description" content="{% block description %}Free image optimization tools! Compress, resize, convert, watermark, crop and edit photos online. No sign-up required - start optimizing images now! {% endblock %}">
  <meta name="keywords" content="{% block keywords %}image tools, photo editor, image optimizer, online image processing{% endblock %}">
  <link rel="canonical" href="{{ canonical or 'https://resizeimages.co.in' }}{{ request.path }}">
  <meta property="og:title" content="{% block og_title %}Free Image Compressor & Photo Optimizer | Compress, Resize, Convert, Rotate, Crop, Watermark , Merge jpg  Online{% endblock %}">
  <meta property="og:description" content="{% block og_description %}Professional image optimization suite: compress without quality loss, resize for web, convert JPG/PNG/WebP, add watermarks{% endblock %}">
  <meta property="og:url" content="{{ canonical or 'https://resizeimages.co.in' }}{{ request.path }}">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary">
  <script src="{{ url_for('static', filename='js/common-functions.js') }}"></script>


  <!-- Enhanced JSON-LD with detailed service information -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "ResizeImages.co.in - Free Image Optimizer",
    "url": "{{ canonical or 'https://resizeimages.co.in' }}",
    "description": "Professional online image optimization tools to compress, resize, convert format, watermark, crop, rotate and blur images",
    "applicationCategory": "MultimediaApplication",
    "operatingSystem": "Web Browser",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "featureList": [
      "Image Compression without quality loss",
      "Photo Resizing by pixels or percentage", 
      "Format Conversion (JPG, PNG, WebP, AVIF)",
      "Watermark Addition",
      "Image Cropping",
      "Photo Rotation",
      "Image Blurring",
      "Merge JPG",
      "Batch Processing up to 10 images"
    ],
    "provider": {
      "@type": "Organization",
      "name": "ResizeImages.co.in"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "{{ canonical or 'https://resizeimages.co.in' }}/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Favicon -->
<link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='images/favicon-32x32.png') }}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='images/favicon-16x16.png') }}">
<link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
<link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='images/apple-touch-icon.png') }}">
  <style>
    /* Enhanced Navigation Styles */
    .navbar {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.95) !important;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
    }
    
    .navbar-brand {
      position: relative;
      overflow: hidden;
      transition: transform 0.3s ease;
    }
    
    .navbar-brand:hover {
      transform: scale(1.05);
    }
    
    .navbar-brand::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.5s ease;
    }
    
    .navbar-brand:hover::after {
      left: 100%;
    }

    /* Enhanced Nav Links */
    .navbar-nav .nav-link {
      position: relative;
      margin: 0 4px;
      padding: 12px 16px !important;
      border-radius: 12px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      color: #495057 !important;
      font-weight: 500;
      overflow: hidden;
    }
    
    /* Hover effect - sliding gradient from left */
    .navbar-nav .nav-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      opacity: 0;
      transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      z-index: -1;
      border-radius: 12px;
    }
    
    .navbar-nav .nav-link:hover::before {
      left: 0;
      opacity: 1;
    }
    
    .navbar-nav .nav-link:hover {
      color: white !important;
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
    }
    
    /* Active state - different animation with glow effect */
    .navbar-nav .nav-link.active {
      color: white !important;
      background: linear-gradient(135deg, #28a745, #20c997);
      box-shadow: 0 0 20px rgba(40, 167, 69, 0.5), 0 4px 15px rgba(40, 167, 69, 0.3);
      transform: translateY(-1px);
      border: 2px solid rgba(255, 255, 255, 0.3);
    }
    
    .navbar-nav .nav-link.active::before {
      display: none;
    }
    
    /* Floating particles animation for active link */
    .navbar-nav .nav-link.active::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 6px;
      height: 6px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      animation: floating-particles 3s infinite;
      box-shadow: 
        -20px -10px 0 -2px rgba(255, 255, 255, 0.4),
        20px -15px 0 -2px rgba(255, 255, 255, 0.3),
        -15px 10px 0 -2px rgba(255, 255, 255, 0.5),
        15px 5px 0 -2px rgba(255, 255, 255, 0.3);
    }
    
    @keyframes floating-particles {
      0%, 100% {
        transform: translate(-50%, -50%) translateY(0px);
        opacity: 1;
      }
      50% {
        transform: translate(-50%, -50%) translateY(-8px);
        opacity: 0.7;
      }
    }
    
    /* Icon animations */
    .navbar-nav .nav-link i {
      transition: transform 0.3s ease;
    }
    
    .navbar-nav .nav-link:hover i {
      transform: scale(1.2) rotate(5deg);
    }
    
    .navbar-nav .nav-link.active i {
      transform: scale(1.1);
    }
    
    /* Mobile menu enhancements */
    .navbar-toggler {
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      transition: all 0.3s ease;
    }
    
    .navbar-toggler:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }
    
    .navbar-toggler-icon {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='m4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    }
    
    /* Responsive mobile menu */
    @media (max-width: 991.98px) {
      .navbar-collapse {
        background: rgba(255, 255, 255, 0.98);
        border-radius: 12px;
        padding: 20px;
        margin-top: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(10px);
      }
      
      .navbar-nav .nav-link {
        margin: 4px 0;
        text-align: center;
      }
      
      .navbar-nav .nav-link:hover {
        transform: translateX(5px);
      }
    }
    
    /* Logo enhancements */
    .navbar-brand img {
      max-height: 32px;
      width: auto;
      transition: all 0.3s ease;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
    }
    
    @media (max-width: 768px) {
      .navbar-brand img {
        max-height: 28px;
      }
    }
    
    /* Other existing styles */
    .dropArea { border: 2px dashed #dfe6ef; padding: 24px; border-radius: 12px; text-align: center; cursor: pointer; background: #fbfdff; transition: border-color 0.3s ease; }
    .dropArea:hover { border-color: #0b74de; }
    .thumb { max-width: 100px; max-height: 80px; margin: 6px; border-radius:6px; border:1px solid #ddd; padding:2px; background:white; }
    .hero-section { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 3rem 0; margin-bottom: 2rem; }
    .card-feature { transition: transform 0.2s ease; }
    .logo-hero { max-height: 60px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); }
    .card-feature:hover { transform: translateY(-2px); }
    
    /* Enhanced Footer Styles */
    .footer-bg-animation {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, 
        rgba(102, 126, 234, 0.1) 0%, 
        rgba(118, 75, 162, 0.1) 25%, 
        rgba(102, 126, 234, 0.1) 50%, 
        rgba(118, 75, 162, 0.1) 75%, 
        rgba(102, 126, 234, 0.1) 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      opacity: 0.3;
    }
    
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .footer-brand {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .footer-brand:hover {
      transform: translateX(10px);
    }
    
    .footer-logo {
      transition: all 0.4s ease;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
    }
    
    .footer-brand:hover .footer-logo {
      transform: rotate(360deg) scale(1.1);
      filter: drop-shadow(0 4px 8px rgba(102, 126, 234, 0.5));
    }
    
    .footer-link {
      position: relative;
      color: #adb5bd !important;
      text-decoration: none;
      padding: 8px 12px;
      border-radius: 8px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: inline-block;
      overflow: hidden;
    }
    
    .footer-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 0;
      height: 100%;
      background: linear-gradient(90deg, #28a745, #20c997);
      transition: width 0.4s ease;
      z-index: -1;
    }
    
    .footer-link:hover {
      color: white !important;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(40, 167, 69, 0.3);
    }
    
    .footer-link:hover::before {
      width: 100%;
    }
    
    .footer-description {
      transition: all 0.3s ease;
      opacity: 0.8;
    }
    
    .footer-brand:hover + .footer-description,
    .footer-description:hover {
      opacity: 1;
      color: #20c997;
      text-shadow: 0 0 10px rgba(32, 201, 151, 0.3);
    }
    
    .footer-copyright {
      transition: all 0.3s ease;
      cursor: default;
    }
    
    .footer-copyright:hover {
      color: #adb5bd !important;
      text-shadow: 0 0 5px rgba(173, 181, 189, 0.5);
    }
    
    /* Floating elements animation */
    .footer-links {
      position: relative;
    }
    
    .footer-links::before {
      content: '✨';
      position: absolute;
      top: -10px;
      right: 20px;
      font-size: 12px;
      opacity: 0;
      animation: sparkle 4s infinite;
    }
    
    @keyframes sparkle {
      0%, 100% { 
        opacity: 0; 
        transform: translateY(0) rotate(0deg); 
      }
      50% { 
        opacity: 1; 
        transform: translateY(-5px) rotate(180deg); 
      }
    }
  </style>
</head>
<body class="bg-light">
  <nav class="navbar navbar-expand-lg shadow-sm sticky-top">
    <div class="container">
       <a class="navbar-brand fw-semibold d-flex align-items-center" href="/">
      <img src="{{ url_for('static', filename='images/logo.png') }}"
           alt="resizeimages.co.in logo"
           height="32"
           class="me-2">
      <span class="fw-bold">resizeimages</span><span class="text-muted">.co.in</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <!-- PRIORITY 1: Compress Images - Hero Feature -->
          <li class="nav-item">
            <a class="nav-link {% if request.endpoint in ['home', 'compress_page', 'compress_route'] %}active{% endif %}" href="/compress" title="Compress Images - Reduce file size without quality loss">
              <i class="fas fa-compress me-1"></i><strong>Compress Images</strong>
            </a>
          </li>

          <!-- PRIORITY 2: Video Compression -->
          <li class="nav-item">
            <a class="nav-link {% if 'video' in request.endpoint %}active{% endif %}" href="/video" title="Compress Videos - Reduce MP4, AVI, MOV file sizes">
              <i class="fas fa-video me-1"></i>Compress Video
            </a>
          </li>

          <!-- PRIORITY 3: Popular Standalone Tools -->
          <li class="nav-item">
            <a class="nav-link {% if 'resize' in request.endpoint %}active{% endif %}" href="/resize">
              <i class="fas fa-expand-arrows-alt me-1"></i>Resize
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link {% if 'convert' in request.endpoint %}active{% endif %}" href="/convert">
              <i class="fas fa-exchange-alt me-1"></i>Convert
            </a>
          </li>

          <!-- GROUPED: Other Image Tools -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle {% if request.endpoint in ['crop_page', 'rotate_page', 'merge_page', 'watermark_page', 'blur_page'] %}active{% endif %}"
               href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-tools me-1"></i>More Tools
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item {% if 'crop' in request.endpoint %}active{% endif %}" href="/crop">
                <i class="fas fa-crop me-2"></i>Crop Images
              </a></li>
              <li><a class="dropdown-item {% if 'rotate' in request.endpoint %}active{% endif %}" href="/rotate">
                <i class="fas fa-redo me-2"></i>Rotate Images
              </a></li>
              <li><a class="dropdown-item {% if 'merge' in request.endpoint %}active{% endif %}" href="/merge">
                <i class="fas fa-object-group me-2"></i>Merge Images
              </a></li>
              <li><hr class="dropdown-divider"></li>
              <li><h6 class="dropdown-header">Privacy & Security</h6></li>
              <li><a class="dropdown-item {% if 'watermark' in request.endpoint %}active{% endif %}" href="/watermark">
                <i class="fas fa-tint me-2"></i>Add Watermark
              </a></li>
              <li><a class="dropdown-item {% if 'blur' in request.endpoint %}active{% endif %}" href="/blur">
                <i class="fas fa-eye-slash me-2"></i>Blur Faces
              </a></li>
            </ul>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/blog">
              <i class="fas fa-blog me-1"></i>Blog
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/contact">
              <i class="fas fa-envelope me-1"></i>Contact
            </a>
          </li>

          <!-- Add login/logout section before </ul> -->
          <li class="nav-item" id="authSection">
            <!-- This will be populated by JavaScript -->
          </li>
        </ul>
      </div>
    </div>
  </nav>

  {% block hero %}{% endblock %}

  <div class="container py-4">
    {% if error %}
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="fas fa-exclamation-triangle me-2"></i>{{ error }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
    {% endif %}

    {% block content %}{% endblock %}
  </div>

  <footer class="bg-dark text-light py-4 mt-5 position-relative overflow-hidden">
    <!-- Animated background -->
    <div class="footer-bg-animation"></div>
    
    <div class="container position-relative">
      <div class="row">
        <div class="col-md-6">
         <div class="d-flex align-items-center mb-3 footer-brand">
          <img src="{{ url_for('static', filename='images/logo.png') }}"
               alt="resizeimages.co.in logo"
               height="40"
               class="me-2 footer-logo">
          <h5 class="fw-bold mb-0">resizeimages.co.in</h5>
         </div>
          <p class="mb-0 footer-description">Free online image tools for image compression, resizing, crop, rotate, blur, merging, add watermark and format conversion.</p>
        </div>
        <div class="col-md-6 text-md-end">
          <div class="mb-2 footer-links">
            <a href="/compress" class="footer-link me-3" title="Compress Images - Reduce file size"><strong>Compress Images</strong></a>
            <a href="/video" class="footer-link me-3" title="Compress Videos - Reduce video file sizes"><strong>Compress Video</strong></a>
            <a href="/resize" class="footer-link me-3">Resize</a>
            <a href="/convert" class="footer-link me-3">Convert</a>
            <a href="/crop" class="footer-link me-3">Crop</a>
            <a href="/watermark" class="footer-link me-3">Watermark</a>
            <a href="/blur" class="footer-link me-3">Blur</a>
            <a href="/contact" class="footer-link">Contact</a>
          </div>
          <small class="text-muted footer-copyright">© 2024 resizeimages.co.in. All rights reserved.</small>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>

  <script>
    const MAX_FILES = 10;
    const MAX_FILE_MB = 25;

    function setupDropArea(dropId, inputId, countId, thumbsId, formId) {
      const drop = document.getElementById(dropId);
      const input = document.getElementById(inputId);
      const count = document.getElementById(countId);
      const thumbs = document.getElementById(thumbsId);
      const form = document.getElementById(formId);
      const infoBox = document.getElementById(countId)?.closest('.selection-info');

      if (!drop || !input || !count || !thumbs || !form) return;

      function showFiles(files) {
        const fileList = Array.from(files).slice(0, MAX_FILES);
        if (infoBox) infoBox.style.display = 'block';
        count.textContent = fileList.length;
        thumbs.innerHTML = '';
        let valid = true;

        fileList.forEach(file => {
          const sizeMB = file.size / (1024 * 1024);
          if (sizeMB > MAX_FILE_MB) valid = false;

          if (file.size <= 1024 * 1024) {
            const img = document.createElement('img');
            img.className = 'thumb';
            img.alt = file.name;
            const reader = new FileReader();
            reader.onload = (e) => { img.src = e.target.result; };
            reader.readAsDataURL(file);
            thumbs.appendChild(img);
          } else {
            const span = document.createElement('div');
            span.className = 'small text-muted mb-1';
            span.textContent = `${file.name} (${(file.size/1024).toFixed(0)} KB)`;
            thumbs.appendChild(span);
          }
        });

        if (files.length > MAX_FILES || !valid) {
          alert('Selection invalid: too many files or file too large.');
        }
      }

      // Form validation
      form.addEventListener('submit', function(e) {
        const files = input.files;
        const formData = new FormData(this);
        const remoteUrl = formData.get('remote_url');
        const driveUrl = formData.get('drive_url');

        if (files.length === 0 && !remoteUrl && !driveUrl) {
          alert('Please select files or enter a URL');
          e.preventDefault();
          return false;
        }
      });

      // Drag and drop events
      drop.addEventListener('click', () => input.click());
      drop.addEventListener('dragover', (e) => {
        e.preventDefault();
        drop.style.borderColor = '#0b74de';
        drop.style.backgroundColor = '#f0f8ff';
      });
      drop.addEventListener('dragleave', () => {
        drop.style.borderColor = '#dfe6ef';
        drop.style.backgroundColor = '#fbfdff';
      });
      drop.addEventListener('drop', (e) => {
        e.preventDefault();
        drop.style.borderColor = '#dfe6ef';
        drop.style.backgroundColor = '#fbfdff';
        input.files = e.dataTransfer.files;
        showFiles(input.files);
      });
      input.addEventListener('change', () => showFiles(input.files));
    }

    // Auto-setup drop areas when page loads
    document.addEventListener('DOMContentLoaded', function() {
      setupDropArea('dropArea', 'fileInput', 'fileCount', 'thumbnails', 'mainForm');
    });
  </script>
  <script>
// Authentication status check
async function checkAuthStatus() {
    try {
        const response = await fetch('/check-auth');
        const data = await response.json();
        
        const authSection = document.getElementById('authSection');
        if (data.authenticated) {
            authSection.innerHTML = `
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user me-1"></i>${data.user}
                    </a>
                    <ul class="dropdown-menu">
                        ${data.role === 'admin' ? '<li><a class="dropdown-item" href="/admin"><i class="fas fa-cogs me-2"></i>Admin Panel</a></li>' : ''}
                        <li><a class="dropdown-item" href="#" onclick="logout()"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                    </ul>
                </div>
            `;
        } else {
            authSection.innerHTML = `
                <a class="nav-link" href="/login">
                    <i class="fas fa-sign-in-alt me-1"></i>Login
                </a>
            `;
        }
    } catch (error) {
        console.error('Auth check failed:', error);
    }
}

async function logout() {
    try {
        await fetch('/logout', { method: 'POST' });
        window.location.reload();
    } catch (error) {
        console.error('Logout failed:', error);
    }
}

// Check auth status on page load
document.addEventListener('DOMContentLoaded', checkAuthStatus);
</script>

  {% block scripts %}{% endblock %}
</body>
</html>
